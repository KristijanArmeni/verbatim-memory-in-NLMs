#!/bin/bash
#SBATCH --job-name=script_preprocess_and_merge_csvfiles.scr
#SBATCH --time=02:30:00
#SBATCH --mem=8gb
#SBATCH --partition=express
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=5
#SBATCH --mail-type=end
#SBATCH --mail-user=karmeni1@jhu.edu
#SBATCH --output=/home-3/karmeni1@jhu.edu/code/lm-mem/logs/script_preprocess_and_merge_csvfiles.err
#SBATCH --error=/home-3/karmeni1@jhu.edu/code/lm-mem/logs/script_preprocess_and_merge_csvfiles.log

ml anaconda
conda activate ~/code/conda_envs/core_env

for model_id in "r-25" "r-30"
do
    # python /home-3/karmeni1@jhu.edu/code/lm-mem/preprocess_and_merge_csvfiles.py --arch "gpt2" --model_id "a-10" --scenario $sce
    python /home-3/karmeni1@jhu.edu/code/lm-mem/preprocess_and_merge_csvfiles.py --arch "gpt2" --model_id $model_id --scenario "sce1"
    # python /home-3/karmeni1@jhu.edu/code/lm-mem/preprocess_and_merge_csvfiles.py --arch "rnn" --model_id "a-10" --scenario $sce
done
