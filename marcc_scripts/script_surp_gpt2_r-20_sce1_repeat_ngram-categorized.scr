#!/bin/bash
#SBATCH --job-name=script_surp_gpt2_r-20_sce1_repeat_ngram-categorized
#SBATCH --time=03:30:00
#SBATCH --mem=4gb
#SBATCH --partition=gpuk80
#SBATCH --gres=gpu:1
#SBATCH --cpus-per-task=6
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --mail-type=end
#SBATCH --mail-user=karmeni1@jhu.edu
#SBATCH --output=/home-3/karmeni1@jhu.edu/code/lm-mem/logs/script_surp_gpt2_r-20_sce1_repeat_ngram-categorized.log
#SBATCH --error=/home-3/karmeni1@jhu.edu/code/lm-mem/logs/script_surp_gpt2_r-20_sce1_repeat_ngram-categorized.err


ml anaconda
conda activate ~/code/conda_envs/core_env

python /home-3/karmeni1@jhu.edu/code/lm-mem/gpt2_surprisal.py --condition repeat --scenario sce1 --paradigm repeated-ngrams --model_type random-att --model_seed 12345 --input_filename /home-3/karmeni1@jhu.edu/code/lm-mem/data/ngram-categorized.json --output_dir /home-3/karmeni1@jhu.edu/code/lm-mem/output --output_file surprisal_gpt2_r-20_sce1_repeat_ngram-categorized.csv --device cuda

